
/* ----------------------
   Streak Feature (Palak)
   ---------------------- */
let streak = 0;
let lastStreakDate = null;

const streakData = JSON.parse(localStorage.getItem("ecolearn_streak")) || { streak: 0, lastDate: null };
streak = streakData.streak;
lastStreakDate = streakData.lastDate;

function renderStreak() {
  const el = document.getElementById("streakLabel");
  if (el) {
    el.textContent = `ðŸ”¥ ${streak} day streak`;
  }
}

function updateStreak() {
  const today = new Date().toDateString();

  if (lastStreakDate !== today) {
    if (lastStreakDate === new Date(Date.now() - 86400000).toDateString()) {
      streak++;
    } else {
      streak = 1;
    }
    lastStreakDate = today;
    localStorage.setItem("ecolearn_streak", JSON.stringify({ streak, lastDate: lastStreakDate }));
  }
  renderStreak();
}

updateStreak();
